import{d as S,R as M,p as v,r as b,o as N,w as m,k as D,c as t,b as s,q as d,e as c,i as F,t as g,H as I,f as p,ae as T,C as $,l as h,af as B}from"./DSPXqrpM.js";const j={class:"flex flex-col gap-1.5"},z=["for"],H={key:0,class:"text-red-500"},R={class:"relative flex items-center"},U={key:0,class:"absolute left-2 text-gray-400"},A=["placeholder","type","disabled","readonly","required","aria-label","aria-invalid","aria-errormessage","step"],G={key:1,class:"absolute right-2 text-gray-400"},J={key:3,class:"absolute right-2 top-1/2 -translate-y-1/2"},K=["id"],L={class:"text-sm text-red-600"},Q=S({__name:"BaseInput",props:{modelValue:{type:[String,Number,Boolean,null]},label:{},placeholder:{default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},step:{},type:{},loading:{type:Boolean,default:!1},alignment:{default:"start"},multiple:{type:Boolean,default:!1},id:{default:()=>`input-${Math.random().toString(36).substr(2,9)}`},keyOf:{},iconStart:{},iconEnd:{},errorMessage:{default:""},name:{},rules:{},validateOnBlur:{type:Boolean,default:!0},validateOnChange:{type:Boolean,default:!1},validateOnMount:{type:Boolean,default:!1}},emits:["update:modelValue","clear","blur","focus","validated"],setup(V,{emit:k}){const a=V,n=k,l=M("formContext",null),f=v({get:()=>a.modelValue,set:e=>{n("update:modelValue",e),a.validateOnChange&&i()}}),r=b(void 0),q=b(!1),i=()=>{if(l){l==null||l.validateField(a.name);const e=l.formErrors[a.name];r.value=e,n("validated",e)}else{let e;a.required&&!l&&(e={type:"required",message:a.errorMessage||"This field is required"}),r.value=e,n("validated",e)}return!r.value},C=()=>{q.value=!0,n("blur"),a.validateOnBlur&&i()},E=()=>{n("focus")},O=()=>{n("update:modelValue",""),n("clear"),a.validateOnChange&&i()};N(()=>{l&&l.formValues[a.name]!==void 0&&n("update:modelValue",l.formValues[a.name]),a.validateOnMount&&i()}),m(()=>f.value,e=>{l&&(l.formValues[a.name]=e)}),m(()=>l==null?void 0:l.formErrors[a.name],e=>{r.value=e},{immediate:!0}),m(()=>a.errorMessage,e=>{var o;e&&!r.value?r.value={type:"custom",message:e}:!e&&((o=r.value)==null?void 0:o.type)==="custom"&&(r.value=void 0)},{immediate:!0});const y=v(()=>{var e;return((e=r.value)==null?void 0:e.message)||""});return(e,o)=>{const u=D("Icon");return s(),t("div",j,[e.label?(s(),t("label",{key:0,for:e.id,class:"block text-base font-medium text-gray-700"},[F(g(e.label)+" ",1),e.required?(s(),t("span",H,"*")):d("",!0)],8,z)):d("",!0),c("div",R,[e.iconStart?(s(),t("span",U,[p(u,{icon:e.iconStart,class:"w-5 h-5"},null,8,["icon"])])):d("",!0),I((s(),t("input",{"onUpdate:modelValue":o[0]||(o[0]=w=>f.value=w),key:e.keyOf,placeholder:e.placeholder,type:e.type,disabled:e.disabled,readonly:"readonly"in e?e.readonly:h(B),required:e.required,"aria-label":e.label?void 0:e.placeholder,"aria-invalid":!!r.value,"aria-errormessage":`error-${e.id}`,step:e.step,onBlur:C,onFocus:E,class:$(["w-full px-3 py-1 border border-gray-200 text-base placeholder-gray-400 rounded focus:outline-none focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-100 disabled:text-gray-500 text-gray-900 transition duration-200",{"pl-10":e.iconStart,"pr-10":e.iconEnd||e.clearable||e.loading,"text-center":e.alignment==="center","text-right pr-8":e.alignment==="end","border-red-500 focus:ring-red-500 focus:border-red-500":r.value}])},null,42,A)),[[T,f.value]]),e.iconEnd?(s(),t("span",G,[p(u,{icon:e.iconEnd,class:"w-5 h-5"},null,8,["icon"])])):d("",!0),e.clearable&&!e.disabled&&!("readonly"in e?e.readonly:h(B))&&e.modelValue?(s(),t("button",{key:2,onClick:O,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",type:"button"},[o[1]||(o[1]=c("span",{class:"sr-only"},"Clear input",-1)),p(u,{icon:"proicons:cancel-circle",class:"w-5 h-5"})])):d("",!0),e.loading?(s(),t("div",J,o[2]||(o[2]=[c("div",{class:"animate-spin rounded-full h-5 w-5 border-2 border-gray-300 border-t-emerald-500"},null,-1)]))):d("",!0)]),y.value?(s(),t("div",{key:1,class:"flex items-center mt-1",id:`error-${e.id}`},[p(u,{icon:"circum:warning",class:"w-4 h-4 text-red-600 mr-2"}),c("p",L,g(y.value),1)],8,K)):d("",!0)])}}});export{Q as _};
