import{_ as k}from"./Bcsf2iPY.js";import{_ as S}from"./S7m0rBLI.js";import{d as C,r as d,u as V,p as M,o as N,c as a,b as o,e as t,f as p,q as f,t as v,F as B,A as L,H as T,I as $,g as j,i as z}from"./DSPXqrpM.js";const A={class:"mb-8"},D={key:0,class:"mb-3 text-red-600 text-sm"},F={class:"w-full grid grid-cols-5 gap-2 mt-5"},q=["id","value"],O=["for"],U={key:0,class:"w-full col-span-5 flex flex-col space-y-3 items-center justify-center py-10"},R=C({__name:"SpecimenType",props:{errorMessage:{type:String,default:""},data:{type:Object,required:!0}},emits:["update:selectedSpecimens"],setup(r,{emit:x}){const u=r,y=x,n=d(""),c=d([]),i=d([]),{$metadata:g}=V(),m=M(()=>i.value?i.value.filter(l=>l.name.toLowerCase().includes(n.value.toLowerCase())):[]),b=()=>{y("update:selectedSpecimens",c.value)};return N(async()=>{try{const l=await g.specimen_types.getAll();i.value=l,u.data&&(c.value=u.data.specimen_types||[])}catch(l){console.error("Failed to load specimens:",l)}}),(l,e)=>{const h=k,w=S;return o(),a("div",A,[e[5]||(e[5]=t("div",{class:"bg-gray-50 border-b border-gray-100 px-2 py-2 rounded mb-3"},[t("h2",{class:"text-xl font-semibold"},"Specimen Type(s)")],-1)),p(h,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),clearable:"",placeholder:"Search specimens..."},null,8,["modelValue"]),r.errorMessage&&Object.keys(r.errorMessage).length>0?(o(),a("div",D,v(r.errorMessage),1)):f("",!0),t("div",F,[(o(!0),a(B,null,L(m.value,s=>(o(),a("div",{key:s.id,class:"flex items-center"},[T(t("input",{id:`specimen-${s.id}`,type:"checkbox",value:s.id,"onUpdate:modelValue":e[1]||(e[1]=_=>c.value=_),class:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",onChange:b},null,40,q),[[$,c.value]]),t("label",{for:`specimen-${s.id}`,class:"ml-2 block text-gray-700"},v(s.name),9,O)]))),128)),m.value.length===0&&n.value?(o(),a("div",U,[e[3]||(e[3]=t("svg",{class:"w-auto h-20 text-black",xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512"},[t("path",{fill:"currentColor",d:"m345.1 41.52l-4.3 16.1l88.8 23.78l4.3-16.1zM350.2 86l-42 157c27.3 6.5 44.1 17.1 52.4 29.2l45.8-171.1l-20-5.4l-31.7 118.4l-16.1-4.3l31.7-118.4l15.8 4.2zm-162.6 35.5c-6.2.2-12.3 1.4-18.5 3.8c-34.7 13.6-121.43 91.9-121.43 91.9l-1.1 171.9c49.49-9.8 98.73-11.5 119.53-67.9l38.8-24.2s75.3 40.5 118.6 8.7c23.8-17.3 2.8-39-64-52.7c-114.2-23.5-93.3-50.3-93.3-50.3l27.1 8.6l-18.6-35l31.6 29.7l7.3-29.7l13.3 17.7l66 24.9l15.2-55.3c-53.7-14.9-87.4-43-120.5-42.1m214.3 81.6l-14.8 55.4c31.5 16.8 71.8-30.1 14.8-55.4m-17.6 74.8l-14.1 57.2c38.3 13.5 82.4-34.3 14.1-57.2m-39.2 52.2c-15.8 12.3-39 20.6-65.7 20.3L254.9 442c-4.1 15 5.1 31 20.6 35s31.5-5 35.6-20z"})],-1)),e[4]||(e[4]=t("p",{class:"text-black text-xl"},"No specimen types found",-1)),p(w,{class:"text-sky-500 hover:text-sky-600 transition duration-150"},{default:j(()=>e[2]||(e[2]=[z("Refresh")])),_:1})])):f("",!0)])])}}});export{R as default};
