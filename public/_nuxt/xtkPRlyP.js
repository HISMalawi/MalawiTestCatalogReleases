import{_ as h}from"./DVOtJaNl.js";import{_ as v}from"./BXFRxcxa.js";import{_ as w}from"./fOVD2dkZ.js";import{_ as y}from"./NlL6ZmLo.js";import{d as V,u as x,r as c,j as C,c as B,b as N,e as a,f as s,g as $,k as t,l as T}from"./PjMfiYHK.js";import{u as k}from"./CWorKg9L.js";import"./Ste0I7My.js";const q={class:"min-h-screen bg-gray-50 p-5"},H={class:"mx-auto"},O={class:"bg-white rounded-lg border border-gray-100 overflow-hidden"},U={class:"w-full py-5 px-5"},A={class:"w-full grid grid-cols-2 gap-5"},E={class:"overflow-hidden"},G=V({__name:"index",setup(I){k({title:"Create product | Malawi Test Catalog",meta:[{name:"description",content:"Create product details"}]});const{$metadata:m,$toast:i}=x(),l=c(!1),o=c({name:"",description:"",id:0,created_at:"",updated_at:"",moh_code:null,nlims_code:null,loinc_code:null}),u={fields:[{name:"name",label:"Name",rules:{required:!0}},{name:"lonic_code",label:"LONIC code",rules:{required:!1}},{name:"moh_code",label:"MOH code",rules:{required:!1}}]},p=async(_,e)=>{if(e){l.value=!0;try{await m.products.create(o.value)&&(i.success("product created successfully"),T({path:"/app/products"}))}catch{i.error("An error occurred while creating product")}finally{l.value=!1}}};return(_,e)=>{const d=h,r=v,f=C("RichTextEditor"),b=w,g=y;return N(),B("div",q,[a("div",H,[a("div",O,[s(d,{mode:"primary",icon:"eos-icons:products-outlined",title:"Create product",description:"Add details of the new product"}),a("div",U,[s(g,{config:u,onSubmit:p},{default:$(({form:M})=>[a("div",A,[s(r,{name:"name",label:"Name",modelValue:t(o).name,"onUpdate:modelValue":e[0]||(e[0]=n=>t(o).name=n),required:""},null,8,["modelValue"]),s(r,{name:"lonic_code",label:"LONIC code",modelValue:t(o).loinc_code,"onUpdate:modelValue":e[1]||(e[1]=n=>t(o).loinc_code=n)},null,8,["modelValue"]),s(r,{name:"moh_code",label:"MOH code",modelValue:t(o).moh_code,"onUpdate:modelValue":e[2]||(e[2]=n=>t(o).moh_code=n)},null,8,["modelValue"]),a("div",null,[e[4]||(e[4]=a("label",{for:"description",class:"block font-medium text-gray-700 mb-2"},"Description",-1)),a("div",E,[s(f,{theme:"snow",class:"editor",content:t(o).description,"onUpdate:content":e[3]||(e[3]=n=>t(o).description=n),contentType:"html"},null,8,["content"])])])]),s(b,{class:"mt-4",label:"Submit",loading:t(l),type:"submit"},null,8,["loading"])]),_:1})])])])])}}});export{G as default};
