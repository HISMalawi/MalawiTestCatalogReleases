import{_ as B}from"./eA2H0pyo.js";import{_ as C}from"./Bf0aH3QM.js";import{d as k,r as p,u as D,k as T,c as $,b as A,F as N,e as o,f as t,l as a,g as s,i as S,t as m}from"./DSPXqrpM.js";import{S as j,Y as I,h as y,G as V,J as F}from"./BhFxkj3L.js";const G={class:"fixed inset-0 overflow-y-auto"},J={class:"flex min-h-full items-center justify-center p-4 text-center"},Y={class:"mt-3"},z={class:"border-t border-gray-100 px-5 py-3 mt-3 flex justify-end space-x-3"},K=k({__name:"ItemDeleteDialog",props:{title:{default:"Delete Confirmation"},description:{default:"Are you sure you want to delete this item? This action cannot be undone."},confirmButtonText:{default:"Delete"},cancelButtonText:{default:"Cancel"},property:{}},emits:["close","confirm"],setup(g,{emit:x}){const r=p(!1),{$api:_,$toast:v}=D(),l=p(!1),i=g,d=x,c=()=>{r.value=!1,d("close")},h=async()=>{var n,e;l.value=!0,await _.delete(`${(n=i.property)==null?void 0:n.endpoint}/${(e=i.property)==null?void 0:e.id}`).then(()=>{d("confirm")}).catch(f=>{v.error("An errror occurred while deleting the item.")}).finally(()=>{c(),l.value=!1})};return(n,e)=>{const f=T("Icon"),b=B,w=C;return A(),$(N,null,[o("button",{type:"button",onClick:e[0]||(e[0]=u=>r.value=!0),class:"cursor-pointer"},[t(f,{icon:"mynaui:trash",class:"w-6 h-6"})]),t(a(j),{appear:"",show:a(r),as:"template"},{default:s(()=>[t(a(I),{as:"div",onClose:c,class:"relative z-50"},{default:s(()=>[t(a(y),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>e[1]||(e[1]=[o("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),o("div",G,[o("div",J,[t(a(y),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[t(a(V),{class:"w-full max-w-md transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t(b,{mode:"error",icon:"fluent-mdl2:report-warning",title:n.title,description:"Are you sure you want to delete this item? This action cannot be undone."},null,8,["title"]),o("div",Y,[t(a(F),{class:"px-5 text-base text-black"},{default:s(()=>{var u;return[S(m((u=i.property)==null?void 0:u.name)+" (1) item",1),e[2]||(e[2]=o("span",{class:"text-red-500"},"*",-1))]}),_:1})]),o("div",z,[o("button",{type:"button",class:"inline-flex cursor-pointer justify-center rounded border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0 focus:ring-indigo-500 focus:ring-offset-2",onClick:c},m(n.cancelButtonText),1),t(w,{loading:a(l),label:n.confirmButtonText,onClick:h},null,8,["loading","label"])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64)}}});export{K as _};
