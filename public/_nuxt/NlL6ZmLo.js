import{u as p}from"./Ste0I7My.js";import{d as b,c as V,b as B,H as _,k as n,I as h}from"./PjMfiYHK.js";const F=b({__name:"BaseForm",props:{config:{},initialValues:{},validateOnSubmit:{type:Boolean,default:!0},validateOnChange:{type:Boolean,default:!1},validateOnMount:{type:Boolean,default:!1}},emits:["submit","validation","reset"],setup(m,{emit:d}){const o=m,i=d,{formValues:e,formErrors:s,isValid:l,validateField:f,validateAll:r,resetForm:u}=p(o.config);o.initialValues&&Object.entries(o.initialValues).forEach(([t,a])=>{t in e&&(e[t]=a)}),h("formContext",{formValues:e,formErrors:s,isValid:l,validateField:f,validateAll:r,resetForm:u});const c=t=>{if(t.preventDefault(),o.validateOnSubmit){const a=r();i("validation",a.valid,a.errors),a.valid?i("submit",{...e},!0):i("submit",{...e},!1,{...s})}else i("submit",{...e},l.value,{...s})},v=()=>{u(),i("reset")};return(t,a)=>(B(),V("form",{onSubmit:c,onReset:v,novalidate:""},[_(t.$slots,"default",{form:{values:n(e),errors:n(s),isValid:n(l)}})],32))}});export{F as _};
